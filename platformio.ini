[platformio]
src_dir = yoRadio

[env:esp32-s3-devkitc-1]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; ESP32-S3 N16R8 专用配置 - 暂时禁用PSRAM测试
board_build.mcu = esp32s3
board_build.f_cpu = 160000000L
board_build.f_flash = 80000000L
board_build.flash_mode = qio
board_build.flash_size = 16MB
; 暂时注释PSRAM配置
; board_build.psram_type = opi
; board_build.arduino.memory_type = opi_opi

; 编译标志 - 启用详细调试和崩溃分析
build_flags = 
    ; -DBOARD_HAS_PSRAM  暂时禁用PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DCORE_DEBUG_LEVEL=5
    -DDEBUG_ESP_PORT=Serial
    -DDEBUG_ESP_SPI
    -g3
    -DCONFIG_ESP32_ENABLE_COREDUMP_TO_UART=y
    -DCONFIG_ESP32_COREDUMP_DATA_FORMAT_ELF=y
    -DCONFIG_ARDUINO_LOOP_STACK_SIZE=8192
    ; ESP-IDF LCD 组件
    -DCONFIG_LCD_ENABLE_DEBUG_LOG=y

; 监视器配置 - 启用异常解码
monitor_speed = 115200
monitor_filters = esp32_exception_decoder

; 上传配置
upload_speed = 921600

; 库依赖
lib_deps = 
    adafruit/Adafruit GFX Library
    adafruit/Adafruit ST7735 and ST7789 Library
    adafruit/Adafruit SSD1306
    adafruit/Adafruit PCD8544 Nokia 5110 LCD library
    adafruit/Adafruit SH110X
    adafruit/Adafruit SSD1327
    adafruit/Adafruit ILI9341
    adafruit/Adafruit SSD1305
    nkawu/TFT 22 ILI9225
    mathertel/OneButton
    crankyoldgit/IRremoteESP8266
    paulstoffregen/XPT2046_Touchscreen
    adafruit/RTClib